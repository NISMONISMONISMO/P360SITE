# PanoramaSite - Платформа для 360° панорам и виртуальных туров

## Описание проекта

Веб-платформа для загрузки, просмотра и создания 360-градусных панорам и виртуальных туров с системой монетизации и интеграции для бизнеса.

## Технологический стек

### Backend
- Python Flask
- SQLite (разработка) / PostgreSQL (продакшн)
- JWT аутентификация
- CORS поддержка

### Frontend
- React.js
- Three.js для 360° панорам
- Modern responsive дизайн
- Интернационализация (русский/английский)

## Основные функции

1. **Система аккаунтов**
   - Регистрация и авторизация
   - Профили пользователей
   - Система ролей (обычный, премиум, администратор)

2. **Управление панорамами**
   - Загрузка 360-градусных изображений
   - Лимиты для обычных пользователей (3 панорамы/день)
   - Время жизни: 24 часа (обычные) / навсегда (премиум)
   - Панорамы только для тура (не отображаются в общей коллекции)

3. **Просмотрщик панорам**
   - 360-градусный просмотр с управлением мышью
   - Функции зума
   - Социальный sharing
   - Встраивание на внешние сайты

4. **Конструктор виртуальных туров**
   - Интуитивный интерфейс
   - Создание связей между панорамами
   - Добавление точек перехода (hotspots)
   - Загрузка панорам непосредственно в тур (не отображаются в общей коллекции)

5. **Система подписок**
   - Бесплатный план: 3 панорамы/день, 24ч хранение
   - Премиум план: безлимитные загрузки, постоянное хранение

6. **Админ-панель**
   - Управление пользователями
   - Выдача/отзыв премиум подписок
   - Модерация контента

## Структура проекта

```
PanoramaSite/
├── backend/           # Flask API сервер
├── frontend/          # React приложение
├── static/            # Статические файлы
├── uploads/           # Загруженные панорамы
└── README.md          # Документация
```

## Инструкции по установке и запуску

### Требования
- Python 3.8+
- Node.js 16+
- npm или yarn

### Установка

1. Клонируйте репозиторий
2. Установите зависимости backend:
   ```bash
   cd backend
   pip install -r requirements.txt
   ```

3. Установите зависимости frontend:
   ```bash
   cd frontend
   npm install
   ```

### Запуск

1. Запуск backend (Flask API):
   ```bash
   cd backend
   python app.py
   ```

2. Запуск frontend (React dev server):
   ```bash
   cd frontend
   npm start
   ```

3. Откройте браузер по адресу http://localhost:3000

### Конфигурация

Backend сервер запускается на порту 5000
Frontend сервер запускается на порту 3000

### Администрирование

Доступ к админ-панели: http://localhost:3000/admin
Для получения прав администратора обратитесь к системному администратору.

## Новая функциональность: Панорамы только для тура

### Описание
Пользователи теперь могут загружать панорамы непосредственно в тур, которые не будут отображаться в их общей коллекции панорам. Это позволяет создавать уникальный контент для конкретных туров без засорения общей коллекции.

### Как использовать
1. Перейдите к созданию или редактированию тура
2. Используйте раздел "Загрузить панораму в тур"
3. Выберите файл и укажите название
4. Панорама будет загружена и добавлена в тур, но не появится в общей коллекции

### Технические детали
- Добавлено новое поле `tour_only` в таблицу `panoramas`
- Создан новый API endpoint `/api/tours/{tour_id}/upload-panorama`
- Обновлены запросы на получение панорам, чтобы исключать панорамы только для тура
- Добавлен компонент `TourPanoramaUploader` в интерфейс создания тура

## Дальнейшая разработка

- Интеграция с платежными системами
- Мобильное приложение
- API для внешних интеграций
- Расширенная аналитика

## Поддержка

Для вопросов и поддержки создавайте issues в репозитории.